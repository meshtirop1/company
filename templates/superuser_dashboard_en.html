{% extends 'base_en.html' %}
{% load static %}

{% block title %}Superuser Dashboard{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/superuser_dashboard.css' %}">
{% endblock %}

{% block content %}
<h2>Superuser Dashboard</h2>
<h3>Employee Overview</h3>
<table class="table-custom">
    <thead>
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Account Number</th>
            <th>Contracted</th>
            <th>Visa Type</th>
            <th>Bank Name</th>
            <th>Total Hours</th>
            <th>Absences</th>
            <th>Salary</th>
            <th>View Calendar</th>
        </tr>
    </thead>
    <tbody>
        {% for user in user_data %}
            <tr class="{% if user.is_contracted %}contracted{% else %}not-contracted{% endif %}">
                <td data-label="First Name">{{ user.first_name }}</td>
                <td data-label="Last Name">{{ user.last_name }}</td>
                <td data-label="Email"><a href="mailto:{{ user.email }}" class="email-link">{{ user.email }}</a></td>
                <td data-label="Account Number">{{ user.account_number|default:"-" }}</td>
                <td data-label="Contracted">{{ user.is_contracted|yesno:"Yes,No" }}</td>
                <td data-label="Visa Type">{{ user.visa_type|default:"-" }}</td>
                <td data-label="Bank Name">{{ user.bank_name|default:"-" }}</td>
                <td data-label="Total Hours">{{ user.total_hours }}</td>
                <td data-label="Absences">{{ user.absences }}</td>
                <td data-label="Salary">{{ user.salary }}</td>
                <td data-label="View Calendar"><a href="{% url 'employee_calendar' user.user_id %}" class="button-primary">View</a></td>
            </tr>
        {% empty %}
            <tr>
                <td colspan="11">No employees found.</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
<h3>Total Salary: {{ total_salary }}</h3>
{% endblock %}
